---
sort: 2
---

# 面试题

## Java基础

### object有什么方法
1. clone方法：保护方法，实现对象的浅复制，只有实现了Cloneable接口才可以调用该方法，否则抛出CloneNotSupportedException异常
2. getClass方法：final方法，获得运行时类型
3. toString方法：一般用于打印对象信息
4. finalize方法：该方法用于释放资源
5. equals方法：用于判断是否为同一个对象地址
6. hashcode方法：
7. wait方法
8. notify方法
9. notifyAll方法


### Thread有什么方法
1. start方法：通知线程规划器可以运行此线程
2. run方法
3. isAlive方法：判断当前线程是否处于活动状态
4. getPriority方法：获取当前线程的优先级
5. setPriority方法：设置当前线程的优先级，默认优先级是5，取值为1-10
6. isDaeMon方法：判断线程是否为守护线程
7. setDaemon方法：设置线程为守护线程
8. interrupt方法：这个方法不会中断线程。实际上调用interrupt实际作用是在线程受到阻塞时抛出一个中断信号，这样线程就得以退出阻塞状态
9. join方法：让该线程无限阻塞，直到该线程销毁为止，内部使用了wait()，所以会释放锁
10. currentThead方法，返回当前正在执行的线程对象的引用
11. sleep方法：在指定的时间让正在执行的线程休眠。不会释放锁
12. yield方法：暂停当前执行的线程对象，并执行其他线程。会放弃cpu资源，放弃的时间不确定

### ThreadLocal是什么，它的使用场景

### 线程的状态

### 线程怎么处理异常
实现Thread.UncaughtExceptionHandler的接口中的uncaughtException方法

### cglib和jdk动态代理的区别
1. Jdk动态代理：利用拦截器（必须实现InvocationHandler）加上反射机制生成一个代理接口的匿名类，在调用具体方法前调用InvokeHandler来处理

2. Cglib动态代理：利用ASM框架，对代理对象类生成的class文件加载进来，通过修改其字节码生成子类来处理

### ReentrantLock怎么重入锁

### ReentrantLock和synchronized的区别 

### 多线程怎么交错执行
1. Semaphore(信号量)  使用acquire(阻塞)和release(释放) 
2. ReenetrantLock获取Condition，使用signal（释放）和await（阻塞）

### AQS是什么，有什么用
AQS中同步等待队列的实现是一个带头尾指针(这里用指针表示引用是为了后面讲解源码时可以更直观形象,况且引用本身是一种受限的指针)
且不带哨兵结点(后文中的头结点表示队列首元素结点,不是指哨兵结点)的双向链表

### HashMap和ConcurrentHashMap

## JVM


## Spring

## Mysql

### 行锁和表锁，怎么设置行锁

表锁的命令：
	lock tables 表名 read/write
	unlock tables;
行锁的命令： 在select 语句后面加上 for update

### 主键索引为什么建议用自增id
Mysql InnoDB引擎底层数据结构是B+树
主要目的就是为了 提高范围查询效率、增加排序效率、提高扫表能力和顺序访问
在底层是以数据页为单位来存储数据的，默认大小为16k
如果主键为自增Id的话，mysql写满一个数据页的时候，直接申请另一个新的数据页接着写就可以了
如果主键非自增Id,为了确保索引有序，mysql就需要将每次插入的数据都放在合适的位置，当一个页快满或已满时，新插入数据的时候，Mysql就需要申请新的数据页，并且把上一个数据页中的部分数据挪到新的数据页，这就造成了页分裂，这个大量移动数据会影响插入效率
主键占用空间越大，每个页存储的主键个数越少，路树就越少，B+树的深度会变长，导致IO次数变多
普通索引的叶子节点上保存的是主键Id的值，如果主键Id占空间较大，将会成倍增加mysql空间占用大小

### 什么时候索引失效

### 索引的类型
1. 普通索引：index
2. 唯一索引: unique index
3. 主键索引: primary key
4. 组合索引: index(col1,col2)
5. 全文索引: fulltext

### 索引的结构
B+Tree、hash

## Zookeeper

### zookeeper是怎么保证强一致性

### CAP是什么
C: 一致性
A: 可用性
P: 分区容错性

## Dubbo

### dubbo是怎么暴露服务

## Netty

## Redis
